##############################################################################
# M A K E F I L E
#
# NAME: PhoneX
#
# Generated by EMDW-MC
#
##############################################################################

CXX=g++
LDFLAGS=
MAKE=make
CXXFLAGS=-g -Wall -Wextra -std=c++11 -I.
LIBS=-lrt

COMPILE=$(CXX) $(CXXFLAGS) -c -o $@ $<
LINK=$(CXX) $(LDFLAGS) -o $@ $^ $(LIBS)

.SUFFIXES:
.SUFFIXES: .cc .hh .o

EXTERNALDIRS := $(subst ;, ,$(EMDW_EXTERNAL_SOURCE_DIR))

SOURCES := $(wildcard *.cc)
SOURCES += $(wildcard $(addsuffix /*.cc,$(EXTERNALDIRS)))
OBJECTS := $(SOURCES:%.cc=%.o)
BINARY := PhoneX.out

d :=	.

dir := 	$(d)/PhoneX
include $(dir)/Rules.mk
dir := 	$(d)/xumlrt_runtime
include $(dir)/Rules.mk
dir := 	$(d)/external
include $(dir)/Rules.mk

%.o:	%.cc
		$(COMPILE)
		
$(BINARY): $(OBJECTS)
		$(LINK)
		
.PHONY: all
all: $(SOURCES) $(OBJECTS) $(BINARY)

.PHONY: clean
clean:
	rm -f $(OBJECTS) $(BINARY)
